{% extends 'base.html.twig' %}

{% block title %}Ajouter une Offre{% endblock %}

{% block body %}
<h1>Ajouter une Offre</h1>

<form method="POST" action="{{ path('nouvelle.offre') }}" enctype="multipart/form-data">
    {% for type, messages in app.flashes %}
        <div class="alert alert-{{ type == 'success' ? 'success' : 'danger' }} alert-dismissible fade show" role="alert">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
    <div class="form-group">
        <label for="titre">Titre :</label>
        <input type="text" id="titre" name="titre" class="form-control" required>
    </div>

    <div class="form-group">
        <label for="secteur">Secteur :</label>
        <input type="text" id="secteur" name="secteur" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="type_contrat" class="form-label"><i class="fas fa-file-contract"></i> Type de contrat</label>
        <select id="type_contrat" name="type_contrat" class="form-select" required>
            <option value="CDI">CDI</option>
            <option value="CDD">CDD</option>
            <option value="Stage">Stage</option>
            <option value="Freelance">Freelance</option>
        </select>
    </div>

    <div class="form-group">
        <label for="lieu">Lieu :</label>
        <select class="selectpicker" data-style="btn-white btn-lg" data-width="100%" data-live-search="true" id="lieu" name="lieu" required title="Selectionner Region">
            <option value="Brazzaville">Brazzaville</option>
            <option value="Pointe-Noire">Pointe-Noire</option>
            <option value="Dolisie">Dolisie</option>
            <option value="Nkayi">Nkayi</option>
            <option value="Ouesso">Ouesso</option>
            <option value="Kintélé">Kintélé</option>
            <option value="Oyo">Oyo</option>
            <option value="Bétou">Bétou</option>
            <option value="Gamboma">Gamboma</option>
            <option value="Owando">Owando</option>
            <option value="Madingou">Madingou</option>
            <option value="Impfondo">Impfondo</option>
            <option value="Makoua">Makoua</option>
            <option value="Sibiti">Sibiti</option>
        </select>
    </div>

    <div class="form-group">
        <label for="Description">Description :</label>
        <textarea id="Description" name="Description" class="form-control" rows="4" required></textarea>
    </div>

    <div class="form-group">
        <label for="entreprise">Entreprise :</label>
        <select id="entreprise" name="entreprise" class="form-control" required>
            {% for entreprise in entreprises %}
                <option value="{{ entreprise.id }}">{{ entreprise.libele }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="date_expiration_at">Date d'Expiration :</label>
        <input type="date" id="date_expiration_at" name="date_expiration_at" class="form-control" required>
    </div>

    <div class="form-group">
        <label for="slug">Slug :</label>
        <input type="text" id="slug" name="slug" class="form-control">
    </div>

    <div class="form-group">
        <label for="salaire">Salaire :</label>
        <input type="text" id="salaire" name="salaire" class="form-control">
    </div>

    <div class="form-group">
        <label for="tempsTaff">Temps de Travail :</label>
        <select type="text" id="tempsTaff" name="tempsTaff" class="form-control" required title="Calendrier de travail">
            <option value="Part Time">Mi-temps</option>
            <option value="Full Time">Plein temps</option>
        </select>
    </div>

    <div class="form-group">
        <label for="LienEmployeur">Lien Employeur :</label>
        <input type="text" id="LienEmployeur" name="LienEmployeur" class="form-control">
    </div>

    <div class="form-group">
        <label for="illustrationImage">Image d'Illustration :</label>
        <input type="file" id="illustrationImage" name="illustrationImage" accept="image/png" class="form-control">
        <small class="form-text text-muted">Seuls les fichiers PNG de moins de pas plus de 5Mo sont autorisés.</small>
    </div>

    <div class="form-group">
        <label for="responsibilities">Responsabilités (séparées par des virgules) :</label>
        <input type="text" id="responsibilities" name="responsibilities" class="form-control" placeholder="Responsabilité 1, Responsabilité 2">
    </div>

    <div class="form-group">
        <label for="competences">Compétences (séparées par des virgules) :</label>
        <input type="text" id="competences" name="competences" class="form-control" placeholder="Compétence 1, Compétence 2">
    </div>

    <div class="form-group">
        <label for="niveauRequis">Niveau Requis :</label>
        <input type="text" id="niveauRequis" name="niveauRequis" class="form-control">
    </div>

    <div class="form-group">
        <label for="AutreDetails">Autres Détails :</label>
        <textarea id="AutreDetails" name="AutreDetails" class="form-control" rows="3"></textarea>
    </div>

    <div class="form-group">
        <label for="genre">Genre :</label>
        <select type="text" id="genre" name="genre" class="form-control">
            <option value="M-F">Homme - Femme</option>
            <option value="M">Homme</option>
            <option value="F">Femme</option>
        </select>
    </div>

    <div class="form-group">
        <label for="experience">Expérience :</label>
        <input type="text" id="experience" name="experience" class="form-control">
    </div>

    <div class="form-check">
        <input type="checkbox" id="statut_offre" name="statut_offre" class="form-check-input">
        <label for="statut_offre" class="form-check-label">Statut de l'Offre</label>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Ajouter l'Offre</button>
</form>
{% endblock %}
